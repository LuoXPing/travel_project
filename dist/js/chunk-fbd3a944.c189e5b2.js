(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fbd3a944"],{"1f22":function(t,s,a){t.exports=a.p+"img/smallfoot3.9e17af49.png"},2759:function(t,s,a){"use strict";a.r(s);var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"ticketDetail"},[a("div",{staticClass:"topSearch"},[a("div",{staticClass:"center"},[a("a-input",{staticClass:"startAdd",attrs:{placeholder:"出发地"},model:{value:t.startAddress,callback:function(s){t.startAddress=s},expression:"startAddress"}}),a("a-input",{staticClass:"endAdd",attrs:{placeholder:"到达地"},model:{value:t.endAddress,callback:function(s){t.endAddress=s},expression:"endAddress"}}),a("a-date-picker",{staticClass:"date",attrs:{placeholder:"选择日期"},on:{change:t.onChange},model:{value:t.date,callback:function(s){t.date=s},expression:"date"}}),a("a-button",{staticClass:"searchBtn",attrs:{icon:"search"},on:{click:t.searchTicket}},[t._v("搜索")])],1)]),a("div",{staticClass:"ticketContent"},[a("div",{staticClass:"center"},[a("div",{staticClass:"leftPart"},[a("span",{directives:[{name:"show",rawName:"v-show",value:t.startAddress&&t.endAddress,expression:"startAddress&&endAddress"}],staticClass:"tip"},[t._v(" 选择航班："+t._s(t.startAddress)+" ⇀ "+t._s(t.endAddress)+" "+t._s(t.dateString))]),0!=t.airpotData.length?a("ul",{staticClass:"flight"},[t._m(0),t._l(t.airpotData,(function(s,e){return a("li",{key:e,staticClass:"item"},[a("div",{staticClass:"company"},[a("span",[t._v(t._s(s.company))]),a("span",{staticClass:"type"},[t._v(t._s(s.companyType))]),a("br"),a("span",{staticClass:"airport"},[t._v(t._s(s.airtype))])]),a("div",{staticClass:"startTime"},[a("span",{staticClass:"time"},[t._v(t._s(s.startDate))]),a("br"),a("span",{staticClass:"airport"},[t._v(t._s(s.startAirport))])]),a("div",{staticClass:"duration"},[a("span",{staticClass:"long"},[t._v(t._s(s.duration))]),a("br")]),a("div",{staticClass:"endTime"},[a("span",{staticClass:"time"},[t._v(t._s(s.arriveDate))]),a("br"),a("span",{staticClass:"airport"},[t._v(t._s(s.arriveAirport))])]),a("div",{staticClass:"price"},[t._v(" ￥"),a("span",{staticClass:"num"},[t._v(t._s(s.price))]),a("span",[t._v("起")])]),a("div",{staticClass:"btn"},[a("span",{on:{click:function(a){return t.bookTicket(s)}}},[t._v("订票")])])])}))],2):a("div",{staticClass:"noContent"},[t._m(1),a("span",[t._v("暂无符合条件的机票信息，请重新搜索")])]),a("a-pagination",{staticStyle:{float:"right"},attrs:{current:t.current,total:t.totalNum,defaultCurrent:1,hideOnSinglePage:!0},on:{change:t.gotoNextpage}})],1),t._m(2)])]),a("smallFoot")],1)},i=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("li",{staticClass:"title"},[a("span",{staticClass:"company"},[t._v("航空信息")]),a("span",{staticClass:"time"},[t._v("起飞时间")]),a("span",{staticClass:"endTime"},[t._v("到达时间")]),a("span",{staticClass:"price"},[t._v("价格")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"pic"},[e("img",{attrs:{src:a("f7fe"),alt:""}})])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"rightPart"},[a("div",{staticClass:"box"},[a("ul",{staticClass:"promise"},[a("li",[a("span",{staticClass:"iconfont icon-ticket-plan"},[a("br")]),t._v("航协认证")]),a("li",[a("span",{staticClass:"iconfont icon-ticket-bao"},[a("br")]),t._v("出行保证")]),a("li",[a("span",{staticClass:"iconfont icon-ticket-phone"}),a("br"),a("div",[a("span",[t._v("服务保障")])])])]),a("div",{staticClass:"phone"},[t._v("免费客服电话：4006345678")])])])}],n=a("c1df"),c=a.n(n),r=a("6264"),o={name:"ticket-detail",components:{smallFoot:r["a"]},data:function(){return{startAddress:"",endAddress:"",date:null,dateString:"",airpotData:[],token:"",totalNum:"",current:1}},methods:{onChange:function(t,s){this.date=t,this.dateString=s},searchTicket:function(){this.updateTicket()},bookTicket:function(t){var s=this;this.token?this.$confirm({title:"是否确认预定该航班的机票?",okText:"确认",cancelText:"取消",onOk:function(){var a={userAccount:s.account,token:s.token,des:t.company+"车票",price:t.price,picture:"http://localhost:8081/ticket/default.jpg",date:s.dateString};s.$https.post("order/add",a).then((function(t){t.body.success&&setTimeout((function(){s.$message.success("已成功预定，可返回购物车查看")}),500)}))}}):this.$message.warning("请先进行登录")},gotoNextpage:function(t){this.current=t,document.documentElement.scrollTop=100},updateTicket:function(){var t=this,s=this.current-1,a={startDes:this.startAddress,arriveDes:this.endAddress,pageNum:s};this.$https.post("/ticket/getByAdd",a).then((function(s){s.body.success?(t.totalNum=s.body.number,t.airpotData=s.body.ticketList):t.$message.error(s.body.rspDesc)}))}},created:function(){var t=localStorage.getItem("ticketDate");this.date="null"==t?null:c()(t),this.startAddress=this.$route.query.beginDes,this.endAddress=this.$route.query.arriveDes,this.dateString=this.$route.query.dateString,this.token=this.$store.state.token,this.account=this.$store.state.account,this.updateTicket()},destroyed:function(){localStorage.clear()}},l=o,d=(a("649f"),a("2877")),u=Object(d["a"])(l,e,i,!1,null,"253f4de0",null);s["default"]=u.exports},6264:function(t,s,a){"use strict";var e=function(){var t=this,s=t.$createElement;t._self._c;return t._m(0)},i=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"foot"},[e("div",{staticClass:"center"},[e("div",{staticClass:"information"},[e("div",{staticClass:"logo"},[e("img",{attrs:{src:a("93d1"),alt:""}})]),e("div",{staticClass:"link"},[e("span",[t._v("© 2020.05.05 京ICP备000号 京公网安备00000号 京ICP证000号 违法和不良信息举报电话: "),e("span",{staticStyle:{color:"#4b61c1"}},[t._v("010-87560895 ")]),t._v("举报邮箱: "),e("span",{staticStyle:{color:"#4b61c1"}},[t._v("hello@163.com")])]),e("span",[t._v("部分图片源自网络，版权归原作者所有，如有侵权，请告知将立即删除！")]),e("div",{staticClass:"pic"},[e("img",{attrs:{src:a("dd5c"),alt:""}}),e("img",{attrs:{src:a("b925"),alt:""}}),e("img",{attrs:{src:a("1f22"),alt:""}})])])])])])}],n={name:"smallFoot"},c=n,r=(a("79d2"),a("2877")),o=Object(r["a"])(c,e,i,!1,null,"2be0af6e",null);s["a"]=o.exports},"628c":function(t,s,a){},"649f":function(t,s,a){"use strict";var e=a("628c"),i=a.n(e);i.a},"79d2":function(t,s,a){"use strict";var e=a("d75e"),i=a.n(e);i.a},b925:function(t,s,a){t.exports=a.p+"img/smallfoot2.debc706e.png"},d75e:function(t,s,a){},dd5c:function(t,s,a){t.exports=a.p+"img/smallfoot1.87ff788f.png"},f7fe:function(t,s,a){t.exports=a.p+"img/td-none.fae073c4.png"}}]);
//# sourceMappingURL=chunk-fbd3a944.c189e5b2.js.map