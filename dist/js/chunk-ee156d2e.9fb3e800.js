(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ee156d2e"],{"013f":function(t,e,s){"use strict";s.r(e);var o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"login"},[t.page?s("div",{staticClass:"loginBox"},[s("div",{staticClass:"loginTitle"},[s("span",{class:{active:"index"===t.currentShow},on:{click:function(e){t.currentShow="index"}}},[t._v("登录")]),s("span",{class:{active:"regist"===t.currentShow},on:{click:function(e){t.currentShow="regist"}}},[t._v("注册")])]),"index"===t.currentShow?s("div",{staticClass:"loginContent"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.account,expression:"account"}],attrs:{type:"text",placeholder:"请输入账号"},domProps:{value:t.account},on:{input:function(e){e.target.composing||(t.account=e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",placeholder:"请输入密码"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),s("span",{staticClass:"forget",on:{click:function(e){t.page=!1}}},[t._v("忘记密码")]),s("button",{staticClass:"loginBtn",on:{click:t.login}},[t._v("登录")])]):s("div",{staticClass:"regContent"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.account,expression:"account"}],attrs:{type:"text",placeholder:"请输入账户"},domProps:{value:t.account},on:{input:function(e){e.target.composing||(t.account=e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",placeholder:"请输入密码"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.rePassword,expression:"rePassword"}],attrs:{type:"password",placeholder:"再次确认密码"},domProps:{value:t.rePassword},on:{input:function(e){e.target.composing||(t.rePassword=e.target.value)}}}),s("select",{directives:[{name:"model",rawName:"v-model",value:t.question,expression:"question"}],attrs:{required:""},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.question=e.target.multiple?s:s[0]}}},[s("option",{staticStyle:{display:"none"},attrs:{disabled:"",selected:""}},[t._v("请选择密保问题")]),s("option",{attrs:{value:"address"}},[t._v("你的家庭住址？")]),s("option",{attrs:{value:"bir"}},[t._v("你的生日是什么时候？")]),s("option",{attrs:{value:"school"}},[t._v("你的小学名字是什么？")]),s("option",{attrs:{value:"mother"}},[t._v("你母亲叫什么？")])]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.protection,expression:"protection"}],attrs:{type:"text",placeholder:"请输入密保答案"},domProps:{value:t.protection},on:{input:function(e){e.target.composing||(t.protection=e.target.value)}}}),s("button",{staticClass:"registerBtn",on:{click:t.register}},[t._v("注册")])])]):s("div",{staticClass:"forgetBox"},[s("div",{staticClass:"title"},[t._v("找回密码")]),s("div",{staticClass:"content"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.account,expression:"account"}],attrs:{type:"text",placeholder:"请输入账号"},domProps:{value:t.account},on:{input:function(e){e.target.composing||(t.account=e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",placeholder:"请输入新密码"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.rePassword,expression:"rePassword"}],attrs:{type:"password",placeholder:"请确认新密码"},domProps:{value:t.rePassword},on:{input:function(e){e.target.composing||(t.rePassword=e.target.value)}}}),s("select",{directives:[{name:"model",rawName:"v-model",value:t.question,expression:"question"}],attrs:{required:""},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.question=e.target.multiple?s:s[0]}}},[s("option",{staticStyle:{display:"none"},attrs:{disabled:"",selected:""}},[t._v("请选择密保问题")]),s("option",{attrs:{value:"address"}},[t._v("你的家庭住址？")]),s("option",{attrs:{value:"bir"}},[t._v("你的生日是什么时候？")]),s("option",{attrs:{value:"school"}},[t._v("你的小学名字是什么？")]),s("option",{attrs:{value:"mother"}},[t._v("你母亲叫什么？")])]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.protection,expression:"protection"}],attrs:{type:"text",placeholder:"请输入答案"},domProps:{value:t.protection},on:{input:function(e){e.target.composing||(t.protection=e.target.value)}}}),s("button",{staticClass:"confirmBtn",on:{click:t.changePass}},[t._v("确认")]),s("div",{staticClass:"returnBack",on:{click:function(e){t.page=!0}}},[t._v("返回登录")])])])])},a=[],r={name:"login",data:function(){return{currentShow:"index",page:!0,account:"",password:"",rePassword:"",question:"",protection:""}},methods:{showConfirm:function(t,e){this.$confirm({title:t,okText:"确认",cancelText:"取消",onOk:function(){e()}})},login:function(){var t=this;""==this.account||""==this.password?this.$message.error("账号或密码不能为空"):this.$https.post("user/login",{account:this.account,password:this.password}).then((function(e){var s=e.body;s.success?(t.$store.commit("setToken",s.token),t.$store.commit("setAccount",s.account),t.$store.commit("sethHeadPic",s.headPic),t.$store.commit("setNickName",s.nickName),"0"==s.type?t.$router.push({path:"/"}):t.$router.push({path:"/admin"}),t.account=t.password=""):t.$message.error(s.rspDesc)}))},register:function(){if(""==this.account||""==this.password)this.$message.error("账号或密码不能为空");else if(this.password!=this.rePassword)this.$message.error("两次密码不一致");else if(""==this.question||""==this.protection)this.$message.error("请输入密保问题和答案");else{var t=this;this.$confirm({title:"是否确认注册?",okText:"确认",cancelText:"取消",onOk:function(){t.$https.post("user/register",{account:t.account,password:t.password,passQues:t.question,passAns:t.protection}).then((function(e){e.body.success?t.currentShow="index":t.$message.error(e.body.rspDesc),t.password=t.rePassword=t.question=t.protection=""}))}})}},changePass:function(){if(""==this.account||""==this.password)this.$message.error("账号或密码不能为空");else if(this.password!=this.rePassword)this.$message.error("两次密码不一致");else if(""==this.question||""==this.protection)this.$message.error("请输入密保问题和答案");else{var t=this;this.$confirm({title:"是否确认修改密码?",okText:"确认",cancelText:"取消",onOk:function(){t.$https.post("user/restPassword",{account:t.account,password:t.password,passQues:t.question,passAns:t.protection}).then((function(e){e.body.success?(t.currentShow="index",t.page=!0):t.$message.error(e.body.rspDesc),t.password=t.rePassword=t.question=t.protection=""}))}})}}},created:function(){this.currentShow=this.$route.query.id}},n=r,i=(s("56dc"),s("2877")),c=Object(i["a"])(n,o,a,!1,null,"3d1b2ee7",null);e["default"]=c.exports},"56dc":function(t,e,s){"use strict";var o=s("610a"),a=s.n(o);a.a},"610a":function(t,e,s){}}]);
//# sourceMappingURL=chunk-ee156d2e.9fb3e800.js.map